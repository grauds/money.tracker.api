services:
  money-tracker-api:
      image: clematis.mt.api:latest
      networks:
        - clematis
      ports:
        - "18085:8080"
      env_file:
        - money_tracker_api.local.env
      depends_on:
        money-tracker-db:
          condition: service_healthy
      volumes:
        - ../log:/var/log/clematis

  money-tracker-db:
       image: jacobalberty/firebird:2.5.9-sc
       networks:
         - clematis
       env_file:
         - money_tracker_api.local.env
       volumes:
         - ../src/test/resources:/firebird/data
       ports:
         - "3050:3050"

networks:
  clematis:
    driver: bridge
